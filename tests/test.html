<!DOCTYPE html>
<html>
    <head>
        <title>Test</title>
        <!-- <style>
            html,
            body,
            #modelDiv,
            canvas {
                margin: 0;
                padding: 0;
                border: 0;
            }
            #modelDiv canvas {
                width: 100vw;
                height: 100vh;
            }
        </style> -->
    </head>

    <body>
        <div id="modelDiv"></div>
        <script type="module">
            import * as util from '../src/utils.js'
            import AS from 'https://cdn.skypack.dev/agentscript/dist/agentscript.esm.js'

            // window.steps = 100
            // window.fcn = () => {
            //     console.log('steps', steps--)
            //     if (steps <= 0) clearInterval(iid)
            // }
            // window.iid = setInterval(fcn, steps)

            import Animator from '../src/Animator.js'
            const anim = new Animator(
                () => console.log('step'),
                -1, // steps
                30 // fps
            ).startStats()
            util.toWindow({ util, anim })

            // If there is a possibility that your logic could take longer to execute than the interval time, it is recommended that you recursively call a named function using setTimeout(). For example, if using setInterval() to poll a remote server every 5 seconds, network latency, an unresponsive server, and a host of other issues could prevent the request from completing in its allotted time. As such, you may find yourself with queued up XHR requests that won't necessarily return in order.
            // In these cases, a recursive setTimeout() pattern is preferred:
            // ;(function loop() {
            //     setTimeout(function () {
            //         // Your logic here
            //         loop()
            //     }, delay)
            // })()

            // import Animator from '../src/Animator.js'
            // import TwoDraw from '../src/TwoDraw.js'
            // import Model from '../models/HelloModel.js'
            // const model = new Model()
            // model.setup()
            // const view = new TwoDraw(model, { div: 'modelDiv' })
            // const anim = new Animator(() => {
            //     model.step()
            //     view.draw()
            // }, 500)
            // util.toWindow({ util, Model, model, view, anim })

            // import AgentArray from '../src/AgentArray.js'
            // window.aa = AgentArray

            // import Model from '../models/HelloModel.js'
            // import TwoDraw from '../src/TwoDraw.js'
            // const model = new Model()
            // model.setGeometry('heading')
            // model.population = 1
            // model.setup()
            // const view = new TwoDraw(
            //     model,
            //     {
            //         div: 'modelDiv',
            //         patchSize: 20,
            //     },
            //     {
            //         //
            //     }
            // )
            // util.toWindow({ util, Model, model, view })
            // util.dump()
            // // window.draw = () => view.draw()
            // window.pi = Math.PI
            // t.setxy(0, 0)
            // t.heading = 0

            // util.timeoutLoop(
            //     () => {
            //         view.draw()
            //     },
            //     -1,
            //     100
            // )

            // Object.assign(window, util)
            // const obj = {
            //     r2d: radToDeg,
            //     d2r: degToRad,
            //     r2h: radToHeading,
            //     h2r: headingToRad,
            //     d2h: degToHeading,
            //     h2d: headingToDeg,
            //     deq: degreesEqual,
            //     req: radsEqual,
            //     heq: headingsEq,
            //     sr: subtractRadians,
            //     sh: subtractHeadings,
            //     sd: subtractDegrees,
            //     rtw: radiansTowardXY,
            //     htw: headingTowardXY,
            //     dtw: degreesTowardXY,
            //     md: mod360,
            //     mp: mod2pi,
            //     mpp: modpipi,
            //     pi: Math.PI,
            //     pi2: 2 * Math.PI,
            // } // = util
            // Object.assign(window, obj)

            // import Color from '../src/Color.js'
            // import Model from '../models/HelloModel.js'
            // import TwoDraw from '../src/TwoDraw.js'
            // const model = new Model({ maxX: 16 })
            // model.setup()
            // const view = new TwoDraw(
            //     model,
            //     {
            //         div: 'modelDiv',
            //         patchSize: 15,
            //     },
            //     {
            //         // patchesColor: 'black',
            //         patchesColor: Color.typedColor('black'),
            //         turtlesColor: Color.typedColor('white'),
            //     }
            // ) // defalt drawOptions!
            // view.draw()

            // import * as THREE from 'https://cdn.skypack.dev/three@0.120.0'
            // import { OrbitControls } from 'https://cdn.skypack.dev/three@0.120.0/examples/jsm/controls/OrbitControls.js'

            // import * as THREE from 'https://cdn.skypack.dev/three@0.120.0/build/three.module.js'
            // import { OrbitControls } from 'https://cdn.skypack.dev/three@0.120.0/examples/jsm/controls/OrbitControls.js'
            // import AS from 'https://jspm.dev/agentscript'
            // import utils from 'https://jspm.dev/agentscript/src/utils.js'
            // util.toWindow({ AS, utils })

            // import * as THREE from 'https://cdn.skypack.dev/three@0.120.0/build/three.module.js'
            // import { OrbitControls } from 'https://cdn.skypack.dev/three@0.120.0/examples/jsm/controls/OrbitControls.js'

            // util.toWindow({ THREE, OrbitControls })

            // import mapboxGl from 'https://cdn.skypack.dev/mapbox-gl'
            // console.log(util.typeOf(mapboxGl))
            // util.toWindow({ mapboxGl })

            // import util from './util.js'
            // console.log(util, util.lerp)

            // // import TestClass from './test.js'
            // // import './test.js'
            // import Model from 'https://agentscript.org/models/LinkTravelModel.js'

            // import DataSet from '../src/DataSet.js'
            // let range = size => [...Array(size)].map((_, i) => i)
            // // let range = size => Array.from({ length: size }, (x, i) => i)
            // let range2 = (size, start = 0, step = 1) =>
            //     [...Array(size)].map((_, i) => start + i * step)
            // let ds = new DataSet(5, 10, range2(50, 0, 10))
            // let dsn = ds.normalize(0, 1)
            // console.log(dsn.data)

            // let lerp = util.lerp
            // import * as util from '../src/utils.js'
            // let lerp = util.lerp
            // import { lerp } from '../src/utils.js'

            // import * as util from 'https://agentscript.org/src/utils.js'
            // let lerp = util.lerp
            // import * as util from 'https://agentscript.org/tests/utils.js'
            // let lerp = util.lerp
            // import { lerp } from 'https://agentscript.org/src/utils.js'
            // import { lerp } from 'https://agentscript.org/tests/utils.js'

            // import util from 'https://unpkg.com/agentscript@0.8.2/src/util.js'
            // let lerp = util.lerp
            // import * as util from 'https://unpkg.com/agentscript@0.8.2/tests/utils.js'
            // let lerp = util.lerp
            // import util from 'https://unpkg.com/agentscript@0.8.2/tests/util.js'
            // let lerp = util.lerp
            // import { lerp } from 'https://unpkg.com/agentscript@0.8.2/src/utils.js'
            // import { lerp } from 'https://unpkg.com/agentscript@0.8.2/tests/utils.js'

            // import util from 'https://cdn.skypack.dev/agentscript@0.8.2/src/util.js'
            // let lerp = util.lerp
            // import * as util from 'https://cdn.skypack.dev/agentscript@0.8.2/tests/utils.js'
            // let lerp = util.lerp
            // import { lerp } from 'https://cdn.skypack.dev/agentscript@0.8.2/src/utils.js'
            // import { lerp } from 'https://cdn.skypack.dev/agentscript@0.8.2/tests/utils.js'

            // console.log(lerp)
        </script>
    </body>
</html>
