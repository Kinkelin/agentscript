<!DOCTYPE html>
<html>
    <head>
        <title>Test</title>
    </head>

    <body>
        <canvas id="can"></canvas>
        <script type="module">
            import util from '../src/util.js'
            import Shapes from '../src/Shapes.js'

            const can = document.getElementById('can')
            const ctx = can.getContext('2d')
            const shapes = new Shapes()

            util.toWindow({ util, Shapes, shapes, can, ctx })

            const [width, height, x0, y0, cell] = [400, 200, 200, 100, 2]

            shapes.resetCtx(ctx, cell, width, height, x0, y0) // util?
            util.fillCtx(ctx, 'gray')

            const [cells, theta] = [20, util.radians(45)]

            async function addImages() {
                await shapes.imagePathPromise('tweet', './data/twitter.png')
                await shapes.imagePathPromise('redfish', './data/redfish.png')
            }
            addImages().then(() => {
                shapes.getPathNames().forEach((path, i) => {
                    const x = -x0 + cells / 2 + i * cells
                    const y = cells
                    shapes.draw(ctx, path, x, y, cells, theta, 'red')
                })
            })
        </script>
    </body>
</html>
